{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 13906df644235fc7ab7e","webpack:///./src/vidjo.js","webpack:///./~/object-assign/index.js"],"names":["Vidjo","element","path","options","_element","_path","_options","defaultOptions","_video","_wrapper","_build","_listen","document","createElement","className","style","poster","_buildVideoIfNeeded","appendChild","shouldEnableVideo","position","x","y","translate","_transformProperty","loop","muted","autoplay","source","type","src","addEventListener","_canplaythrough","window","resize","opacity","display","videoHeight","videoWidth","bounds","getBoundingClientRect","wrapperHeight","height","wrapperWidth","width","properties","p","shift"],"mappings":"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","file":"vidjo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vidjo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vidjo\"] = factory();\n\telse\n\t\troot[\"vidjo\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 13906df644235fc7ab7e\n **/","import objectAssign from 'object-assign';\n\n/*\n * This file is part of the Vidjo.js package.\n *\n * (c) Patrick Kempff <patrickkempff@gmail.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport default class Vidjo {\n\n  /**\n   * @param element The element to display the video background in.\n   * @param path    Path to the video eg /videos/ocean.mp4\n   * @param options Options\n   */\n  constructor(element, path, options = {}) {\n    this._element = element;\n    this._path = path;\n\n    // Merge the options with the default options.\n    this._options = objectAssign(this.defaultOptions, options);\n\n    /**\n     * The reference to the video element,\n     * will be created on demand.\n     */\n    this._video = null;\n\n    /**\n     * The reference to the wrapper div that will be\n     * used to position the video element.\n     */\n    this._wrapper = null;\n\n    /**\n     * Build the needed dom structure. The video itself will only created\n     * if needed.\n     */\n    this._build();\n\n    // listen to important events, like resize and video can play.\n    this._listen();\n  }\n\n    /**\n     * Builds the video wrapper and adds the required styles.\n     */\n  _build() {\n\n    // Create the wrapper which holds the video.\n    this._wrapper = document.createElement('div');\n    this._wrapper.className = this._options.className;\n\n    // Set the needed styles.\n    objectAssign(this._wrapper.style, {\n      'width': '100%',\n      'height': '100%',\n      'position': 'relative',\n      'overflow': 'hidden',\n      'zIndex': -1,\n      'backgroundColor': '#FF0000',\n      'backgroundImage': 'url(\"' + this._options.poster + '\")',\n      'backgroundSize': 'cover',\n      'backgroundPosition': 'center center'\n    });\n\n    this._buildVideoIfNeeded();\n    this._element.appendChild(this._wrapper);\n  }\n\n  _buildVideoIfNeeded() {\n    if (this._options.shouldEnableVideo() && this._video === null) {\n      // Create the video element.\n      this._video = document.createElement('video');\n\n      // Set the needed styles.\n      objectAssign(this._video.style, {\n        'margin': 'auto',\n        'position': 'absolute',\n        'opacity': 0,\n        'zIndex': -1,\n        'backgroundColor': '#FF0000',\n        'top': this._options.position.x,\n        'left': this._options.position.y\n      });\n\n      const translate = 'translate(-' + this._options.position.x + ', -' + this._options.position.y + ')';\n\n      this._video.style[this._transformProperty] = translate;\n      this._video.loop = this._options.loop;\n      this._video.muted = this._options.muted;\n      this._video.autoplay = this._options.autoplay;\n\n      // Add the different sources to the video.\n      const source = document.createElement('source');\n\n      source.type = 'video/mp4';\n      source.src = this._path;\n\n      // Append the created elements to the DOM\n      // as child of the given element in options.\n      this._video.appendChild(source);\n\n      this._video.addEventListener('canplay', () => this._canplaythrough(), false);\n      this._video.addEventListener('canplaythrough', () => this._canplaythrough(), false);\n\n      this._wrapper.appendChild(this._video);\n    }\n  }\n\n  _listen() {\n    window.addEventListener('resize', () => this.resize(), false);\n  }\n\n  _canplaythrough() {\n    this._video.style.opacity = 1;\n    this.resize();\n  }\n\n  _playing() {\n    this._video.style.opacity = 1;\n    this.resize();\n  }\n\n  get defaultOptions() {\n    return {\n      'loop': true,\n      'muted': true,\n      'autoplay': true,\n      'position': {x: '50%', y: '50%'},\n      'poster': '',\n      'className': 'vidjo-wrapper',\n      'shouldEnableVideo': () => true\n    };\n  }\n\n  get _transformProperty() {\n    // Note that in some versions of IE9 it is critical that\n    // msTransform appear in this list before MozTransform\n    const properties = [\n      'transform',\n      'WebkitTransform',\n      'msTransform',\n      'MozTransform',\n      'OTransform'\n    ];\n    let p;\n    let element = document.createElement('div');\n\n    while ((p = properties.shift())) {\n      if (typeof element.style[p] !== 'undefined') {\n        return p;\n      }\n    }\n    return false;\n  }\n\n  resize() {\n    this._buildVideoIfNeeded();\n\n    if (!this._video) {\n      return;\n    }\n\n    /**\n     * Hide the video when it should not be enabled.\n     * Eg when the browser resizes and reaches the breakpoint.\n     *\n     * depends on the setting set in options.shouldEnableVideo\n     */\n    this._video.style.display = this._options.shouldEnableVideo() ? '' : 'none';\n\n    // Get a native video size\n    const videoHeight = this._video.videoHeight;\n    const videoWidth = this._video.videoWidth;\n\n    // Get a wrapper size\n    const bounds = this._wrapper.getBoundingClientRect();\n\n    const wrapperHeight = bounds.height;\n    const wrapperWidth = bounds.width;\n\n    if (wrapperWidth / videoWidth > wrapperHeight / videoHeight) {\n      this._video.style.width = (wrapperWidth + 2) + 'px';\n      this._video.style.height = 'auto';\n    } else {\n      this._video.style.width = 'auto';\n      this._video.style.height = (wrapperHeight + 2) + 'px';\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vidjo.js\n **/","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}